<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beli Kuota XL Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .package-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .loading-spinner {
            border-top-color: #4299e1;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <header class="bg-blue-600 text-white shadow-md">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/d475fee7-2bab-452b-ba53-624e987356ab.png" alt="Logo XL Axiata dengan warna merah dan putih" class="h-10">
                    <h1 class="text-2xl font-bold">Beli Kuota XL</h1>
                </div>
                <nav>
                    <ul class="flex space-x-6">
                        <li><a href="#paket" class="hover:underline">Paket</a></li>
                        <li><a href="#riwayat" class="hover:underline">Riwayat</a></li>
                        <li><a href="#bantuan" class="hover:underline">Bantuan</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <section class="mb-12">
            <div class="bg-white rounded-xl shadow-md overflow-hidden mb-8">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/cf34795e-4ef0-4640-8ae7-e07988b12988.png" alt="Promo kuota XL dengan background merah dan teks 'Internet cepat harga hemat'" class="w-full h-auto">
            </div>

            <h2 class="text-2xl font-bold text-gray-800 mb-6" id="paket">Pilih Paket Kuota XL</h2>
            
            <div class="mb-6">
                <div class="flex items-center bg-white rounded-lg shadow-sm overflow-hidden max-w-md">
                    <input type="text" placeholder="Cari paket..." class="px-4 py-2 w-full focus:outline-none">
                    <button class="bg-blue-600 text-white px-4 py-2 hover:bg-blue-700">Cari</button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="package-list">
                <!-- Paket akan diisi oleh JavaScript -->
            </div>
        </section>

        <section class="bg-white rounded-xl shadow-md p-6 mb-12" id="payment-section" style="display: none;">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Form Pembelian</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Detail Paket</h3>
                    <div class="bg-gray-50 p-4 rounded-lg mb-6">
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Nama Paket:</span>
                            <span class="font-medium" id="package-name">-</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Kuota:</span>
                            <span class="font-medium" id="package-quota">-</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-gray-600">Masa Aktif:</span>
                            <span class="font-medium" id="package-validity">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Harga:</span>
                            <span class="font-bold text-blue-600" id="package-price">-</span>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="phone-number" class="block text-gray-700 mb-2">Nomor XL</label>
                        <input type="tel" id="phone-number" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="08xxxxxxxxxx">
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-4">Metode Pembayaran</h3>
                    <div class="space-y-4 mb-6">
                        <div class="flex items-center">
                            <input type="radio" id="bank-transfer" name="payment-method" value="bank" class="mr-2" checked>
                            <label for="bank-transfer" class="flex items-center">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/cb771d09-e9a6-4c76-8102-45478a7da973.png" alt="Icon transfer bank umum" class="mr-2 h-6">
                                Transfer Bank
                            </label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="e-wallet" name="payment-method" value="ewallet" class="mr-2">
                            <label for="e-wallet" class="flex items-center">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ffd450fa-c0c3-4190-9f31-aa2bb6310716.png" alt="Icon dompet digital dengan simbol kartu dan uang" class="mr-2 h-6">
                                E-Wallet
                            </label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="credit-card" name="payment-method" value="creditcard" class="mr-2">
                            <label for="credit-card" class="flex items-center">
                                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ebaa443f-4490-4ec3-af58-ba6d8d20a0c5.png" alt="Icon kartu kredit dengan simbol VISA/Mastercard" class="mr-2 h-6">
                                Kartu Kredit
                            </label>
                        </div>
                    </div>

                    <button id="process-payment" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center">
                        <span id="payment-text">Bayar Sekarang</span>
                        <div id="payment-loading" class="ml-2 hidden">
                            <div class="loading-spinner h-5 w-5 rounded-full border-2 border-t-2 border-gray-200"></div>
                        </div>
                    </button>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-xl shadow-md p-6" id="transaction-result" style="display: none;">
            <div id="success-result" class="hidden text-center py-8">
                <div class="mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Pembelian Berhasil!</h3>
                <p class="text-gray-600 mb-6">Kuota XL Anda akan segera aktif dalam beberapa menit.</p>
                <div class="bg-gray-50 p-4 rounded-lg max-w-md mx-auto text-left">
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">ID Transaksi:</span>
                        <span class="font-medium" id="transaction-id">-</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-600">Nomor:</span>
                        <span class="font-medium" id="success-phone">-</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-600">Waktu:</span>
                        <span class="font-medium" id="transaction-time">-</span>
                    </div>
                </div>
                <button id="back-to-packages" class="mt-6 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">Kembali ke Paket</button>
            </div>

            <div id="failed-result" class="hidden text-center py-8">
                <div class="mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Pembelian Gagal</h3>
                <p class="text-gray-600 mb-6" id="error-message">Terjadi kesalahan saat memproses pembayaran.</p>
                <button id="try-again" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">Coba Lagi</button>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Tentang Kami</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-blue-300">Profil Perusahaan</a></li>
                        <li><a href="#" class="hover:text-blue-300">Kebijakan Privasi</a></li>
                        <li><a href="#" class="hover:text-blue-300">Syarat & Ketentuan</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Layanan</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-blue-300">Paket Internet</a></li>
                        <li><a href="#" class="hover:text-blue-300">Roaming</a></li>
                        <li><a href="#" class="hover:text-blue-300">XL Priority</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Bantuan</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-blue-300">FAQ</a></li>
                        <li><a href="#" class="hover:text-blue-300">Hubungi Kami</a></li>
                        <li><a href="#" class="hover:text-blue-300">Lokasi Gerai</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Ikuti Kami</h3>
                    <div class="flex space-x-4">
                        <a href="#"><img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3d57d64e-b7b6-46d3-bc7c-37dd1b61137a.png" alt="Icon Facebook biru untuk media sosial" class="h-8"></a>
                        <a href="#"><img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/00b11a18-313e-4c1e-8aca-b54b4e32b569.png" alt="Icon Instagram ungu untuk media sosial" class="h-8"></a>
                        <a href="#"><img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/a669d610-a811-4c0d-a2a6-19de5a13b2ce.png" alt="Icon Twitter biru untuk media sosial" class="h-8"></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p>© 2023 XL Axiata. Seluruh hak cipta dilindungi undang-undang.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data paket kuota (mock API)
        const packageData = [
            {
                id: 1,
                name: "Kuota Happy 1GB",
                quota: "1GB",
                validity: "1 Hari",
                price: 10000,
                description: "Internet cepat untuk 1 hari"
            },
            {
                id: 2,
                name: "Kuota Happy 3GB",
                quota: "3GB",
                validity: "7 Hari",
                price: 25000,
                description: "Internet untuk seminggu"
            },
            {
                id: 3,
                name: "Kuota Happy 10GB",
                quota: "10GB",
                validity: "30 Hari",
                price: 60000,
                description: "Internet sebulan dengan kuota besar"
            },
            {
                id: 4,
                name: "Kuota Unlimited 1 Hari",
                quota: "Unlimited",
                validity: "1 Hari",
                price: 15000,
                description: "Internet tanpa batas untuk 1 hari"
            },
            {
                id: 5,
                name: "Kuota Unlimited 7 Hari",
                quota: "Unlimited",
                validity: "7 Hari",
                price: 40000,
                description: "Internet tanpa batas untuk 7 hari"
            },
            {
                id: 6,
                name: "Kuota Unlimited 30 Hari",
                quota: "Unlimited",
                validity: "30 Hari",
                price: 120000,
                description: "Internet tanpa batas untuk 30 hari"
            }
        ];

        // DOM Elements
        const packageListEl = document.getElementById('package-list');
        const paymentSectionEl = document.getElementById('payment-section');
        const transactionResultEl = document.getElementById('transaction-result');
        const successResultEl = document.getElementById('success-result');
        const failedResultEl = document.getElementById('failed-result');
        const backToPackagesBtn = document.getElementById('back-to-packages');
        const tryAgainBtn = document.getElementById('try-again');
        const processPaymentBtn = document.getElementById('process-payment');
        
        // Package detail elements
        const packageNameEl = document.getElementById('package-name');
        const packageQuotaEl = document.getElementById('package-quota');
        const packageValidityEl = document.getElementById('package-validity');
        const packagePriceEl = document.getElementById('package-price');
        
        // Transaction detail elements
        const transactionIdEl = document.getElementById('transaction-id');
        const successPhoneEl = document.getElementById('success-phone');
        const transactionTimeEl = document.getElementById('transaction-time');
        const errorMessageEl = document.getElementById('error-message');
        
        // Form elements
        const phoneNumberEl = document.getElementById('phone-number');

        // Current selected package
        let selectedPackage = null;
        
        // Render packages
        function renderPackages() {
            packageListEl.innerHTML = '';
            
            packageData.forEach(pkg => {
                const packageEl = document.createElement('div');
                packageEl.className = 'package-card bg-white rounded-xl shadow-md overflow-hidden transition duration-300';
                packageEl.innerHTML = `
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${pkg.name}</h3>
                        <p class="text-gray-600 mb-4">${pkg.description}</p>
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <span class="text-gray-600 text-sm">Kuota:</span>
                                <span class="font-medium block">${pkg.quota}</span>
                            </div>
                            <div>
                                <span class="text-gray-600 text-sm">Masa Aktif:</span>
                                <span class="font-medium block">${pkg.validity}</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xl font-bold text-blue-600">Rp${pkg.price.toLocaleString('id-ID')}</span>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 package-select" data-id="${pkg.id}">Pilih</button>
                        </div>
                    </div>
                `;
                packageListEl.appendChild(packageEl);
            });
            
            // Add event listeners to package select buttons
            document.querySelectorAll('.package-select').forEach(btn => {
                btn.addEventListener('click', function() {
                    const packageId = parseInt(this.getAttribute('data-id'));
                    selectPackage(packageId);
                });
            });
        }
        
        // Select a package
        function selectPackage(packageId) {
            selectedPackage = packageData.find(pkg => pkg.id === packageId);
            
            if (selectedPackage) {
                // Update package details in payment form
                packageNameEl.textContent = selectedPackage.name;
                packageQuotaEl.textContent = selectedPackage.quota;
                packageValidityEl.textContent = selectedPackage.validity;
                packagePriceEl.textContent = `Rp${selectedPackage.price.toLocaleString('id-ID')}`;
                
                // Show payment section and hide transaction result
                paymentSectionEl.style.display = 'block';
                transactionResultEl.style.display = 'none';
                
                // Scroll to payment section
                paymentSectionEl.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Process payment (mock API call)
        function processPayment() {
            const phoneNumber = phoneNumberEl.value.trim();
            const paymentMethod = document.querySelector('input[name="payment-method"]:checked').value;
            
            // Validate phone number (simple validation)
            if (!phoneNumber || !/^08\d{9,12}$/.test(phoneNumber)) {
                showError('Nomor XL tidak valid. Harap masukkan nomor yang benar.');
                return;
            }
            
            // Show loading state
            document.getElementById('payment-text').textContent = 'Memproses...';
            document.getElementById('payment-loading').classList.remove('hidden');
            processPaymentBtn.disabled = true;
            
            // Mock API call with timeout
            setTimeout(() => {
                // Randomly determine success (80% success rate for demo)
                const isSuccess = Math.random() < 0.8;
                
                if (isSuccess) {
                    // Generate random transaction ID
                    const transactionId = 'XL' + Math.floor(100000 + Math.random() * 900000);
                    
                    // Update transaction details
                    transactionIdEl.textContent = transactionId;
                    successPhoneEl.textContent = phoneNumber;
                    transactionTimeEl.textContent = new Date().toLocaleString('id-ID');
                    
                    // Show success result
                    paymentSectionEl.style.display = 'none';
                    transactionResultEl.style.display = 'block';
                    successResultEl.classList.remove('hidden');
                    failedResultEl.classList.add('hidden');
                } else {
                    // Show error based on random error type
                    const errors = [
                        'Saldo tidak mencukupi',
                        'Jaringan sedang sibuk, silakan coba lagi',
                        'Nomor XL tidak valid',
                        'Pembayaran ditolak oleh bank'
                    ];
                    const randomError = errors[Math.floor(Math.random() * errors.length)];
                    
                    showError(randomError);
                }
                
                // Reset loading state
                document.getElementById('payment-text').textContent = 'Bayar Sekarang';
                document.getElementById('payment-loading').classList.add('hidden');
                processPaymentBtn.disabled = false;
            }, 1500);
        }
        
        // Show error message
        function showError(message) {
            errorMessageEl.textContent = message;
            
            paymentSectionEl.style.display = 'none';
            transactionResultEl.style.display = 'block';
            successResultEl.classList.add('hidden');
            failedResultEl.classList.remove('hidden');
        }
        
        // Event Listeners
        processPaymentBtn.addEventListener('click', processPayment);
        
        backToPackagesBtn.addEventListener('click', function() {
            paymentSectionEl.style.display = 'none';
            transactionResultEl.style.display = 'none';
            selectedPackage = null;
            
            // Reset form
            phoneNumberEl.value = '';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        tryAgainBtn.addEventListener('click', function() {
            transactionResultEl.style.display = 'none';
            paymentSectionEl.style.display = 'block';
        });
        
        // Initialize
        renderPackages();
    </script>
</body>
</html>

